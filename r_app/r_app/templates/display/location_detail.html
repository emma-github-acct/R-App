{% extends "base.html" %}

{% block content %}

    <div class="jumbotron">
        <h1 class=jumbotronTitle>{{ location.location_title|capfirst }}</h1> 
    </div>

    <!-- ***** If Exceptions Today ***** -->
    {% if exceptions_today|length > 0 %}
    <h4 class="exceptionTitle">CALENDAR CHANGED TODAY</h4>
    <div class="exceptionTable col-xs-12 col-sm-12 col-md-6 col-lg-6">
        {% for expception in exceptions_today %}
        <div class="row"> 
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                {% if expception.opening_time == expception.closing_time %} 
                    Closed
                {% else %} 
                <h3>{{ expception.opening_time }} --- {{ expception.closing_time }}</h3>
                {% endif %}
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                <h3>{{ expception.title}}</h3>
            </div>

        </div>
    </div>
    {% endfor %}
    {% endif %}

    <!-- ***** If open 24 hour ***** -->
    {% if location.open_24_hours_for_students %}
        <h4 style="margin-top:10px">** Open 24 Hours to Rollins Students **</h4>
    {% endif %}


    <!-- ***** Contact Info ***** -->
    {% if contacts|length > 0 %}
    <h4 class="sectionHeader">{{ location.location_title|capfirst }} Contact Info:</h4>
    <div id="contactInfo" class="locationTable col-xs-12 col-sm-12 col-md-8 col-lg-8">
        <div class="titleRow row">
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                Desk Name
            </div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                Contact Name
            </div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                Phone Number
            </div>
        </div>

        {% for contact in contacts %}

        {% if forloop.counter0|divisibleby:2 %}  
        <div class="row">
        {% else %}
        <div class="grey_row row">
        {% endif %}
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                {{ contact.desk_name|capfirst }}
            </div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                {{ contact.contact_name|capfirst }}
            </div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                {{ contact.phone_number|capfirst }}
            </div>
        </div>
        {% endfor %}
    </div>

    {% endif %}


     <!-- ***** Regular Hours ***** -->
    <h4 class="sectionHeader">Regular Hours:</h4>
    <div id="regularHours" class="locationTable col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <div class="titleRow row">
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Day
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Open
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Close
            </div>
        </div>
        <div class="row">
            <div id="monday" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Monday:
            </div>
            {% if location.monday_open == location.monday_close %}
            <div id="mondayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3"></div>
            <div id="mondayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Closed
            </div>
            {% else %}
            <div id="mondayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.monday_open }}
            </div>
            <div id="mondayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.monday_close }}
            </div>
            {% endif %}
        </div>
        <div class="grey_row row">
            <div id="tuesday" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Tuesday:
            </div>
            {% if location.tuesday_open == location.tuesday_close %}
            <div id="tuesdayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3"></div>
            <div id="tuesdayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Closed
            </div>
            {% else %}
            <div id="tuesdayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.tuesday_open }}
            </div>
            <div id="tuesdayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.tuesday_close }}
            </div>
            {% endif %}
        </div>
        <div class="row">
            <div id="wednesday" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Wednesday:
            </div>
            {% if location.wednesday_open == location.wednesday_close %}
            <div id="wednesdayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3"></div>
            <div id="wednesdayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Closed
            </div>
            {% else %}
            <div id="wednesdayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.wednesday_open }}
            </div>
            <div id="wednesdayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.wednesday_close }}
            </div>
            {% endif %}
        </div>
        <div class="grey_row row">
            <div id="thursday" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Thursday:
            </div>
            {% if location.thursday_open == location.thursday_close %}
            <div id="thursdayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3"></div>
            <div id="thursdayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Closed
            </div>
            {% else %}
            <div id="thursdayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.thursday_open }}
            </div>
            <div id="thursdayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.thursday_close }}
            </div>
            {% endif %}
        </div>
        <div class="row">
            <div id="friday" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Friday:
            </div>
            {% if location.friday_open == location.friday_close %}
            <div id="fridayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3"></div>
            <div id="fridayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Closed
            </div>
            {% else %}
            <div id="fridayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.friday_open }}
            </div>
            <div id="fridayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.friday_close }}
            </div>
            {% endif %}
        </div>
        <div class="grey_row row">
            <div id="saturday" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Saturday:
            </div>
            {% if location.saturday_open == location.saturday_close %}
            <div id="saturdayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3"></div>
            <div id="saturdayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Closed
            </div>
            {% else %}
            <div id="saturdayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.saturday_open }}
            </div>
            <div id="saturdayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.saturday_close }}
            </div>
            {% endif %}
        </div>
        <div class="row">
            <div id="sunday" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Sunday:
            </div>
            {% if location.sunday_open == location.sunday_close %}
            <div id="sundayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3"></div>
            <div id="sundayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Closed
            </div>
            {% else %}
            <div id="sundayOpen" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.sunday_open }}
            </div>
            <div id="sundayClose" class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ location.sunday_close }}
            </div>
            {% endif %}
        </div>
    </div>

    <!-- ***** Calendar Exceptions ***** -->
    {% if exceptions|length > 0 %}
    <h4 class="sectionHeader">Calendar Exceptions:</h4>
    <div id="calendarExceptions" class="locationTable col-xs-12 col-sm-12 col-md-10 col-lg-10">
        <div class="titleRow row">
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Title
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                Event
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                Location
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                Date
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                Times
            </div>
        </div>

        {% for excep in exceptions %}

        {% if forloop.counter0|divisibleby:2 %}
            <div class="row">
        {% else %}
            <div class="grey_row row">
        {% endif %}

            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ excep.title}}
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                {{ excep.event_title }}
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                {{ excep.location_title }}
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                {{ excep.date }}
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                {% if excep.opening_time == excep.closing_time %} 
                    Closed
                {% else %} 
                    {{ excep.opening_time }} - {{ excep.closing_time }}
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
        
    <div class="flagDiv">  
        <a class="flagLabel" href="{% url 'report_flag' %}"> 
            <span class="flag glyphicon glyphicon-flag"></span>
            Are these times wrong?
        </a>
    </div>  
        


{% endblock %}